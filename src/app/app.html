<header>
  <nav class="pt-2 px-4 bg-white flex flex-wrap gap-2 *:mx-auto shadow-sm">
    <h1 class="text-4xl font-extrabold text-center text-red-700">Where's Waldo?</h1>
    <div class="self-end flex">
      @for (c of characters.data; track c.src) {
      <!-- prettier-ignore -->
      @let size = 45;
      <img [width]="size" [height]="size" [ngSrc]="c.src" [alt]="c.alt" />
      }
    </div>
  </nav>
</header>
<main>
  <div
    class="relative w-full max-w-[100vh] mx-auto mt-[10vh] overflow-hidden focus-within:outline-2"
  >
    <div class="pt-[63.3984%]">
      <!-- Fill the parent's height relative to its width (old school `aspect-ratio`) -->
    </div>
    <button
      type="button"
      aria-label="Select a character"
      (click)="selectCharacter($event)"
      (blur)="removeCharacterSelection()"
      (keydown.escape)="removeCharacterSelection()"
      class="absolute top-0 left-0 right-0 bottom-0"
    >
      <img
        fill
        #crowd
        priority
        ngSrc="/where-is-waldo-winter.jpg"
        alt="A crowded illustration shows Waldo and his friends skiing on an icy mountain."
      />
    </button>
  </div>
  @if (characterSelection.selectedPoint && characterSelection.imageElement) {
  <app-character-menu
    [imageElement]="characterSelection.imageElement"
    [selectedPoint]="characterSelection.selectedPoint"
  />
  }
</main>
<router-outlet />
