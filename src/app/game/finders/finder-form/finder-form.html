<form
  [class]="class()"
  [style]="style()"
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="p-2 text-center"
  aria-label="Finder form"
>
  <!-- prettier-ignore -->
  @let _name = form.controls.name;
  @let _validName = _name.touched && _name.valid;
  @let _invalidName = !_name.pristine && _name.invalid;
  <label for="finder-name-input"> What's your name, great finder? </label>
  <div class="mt-3 mb-1">
    <input
      required
      type="text"
      autocomplete="off"
      id="finder-name-input"
      formControlName="name"
      placeholder="Ibn Battuta"
      [aria-invalid]="_invalidName"
      [class]="`text-center text-sm font-semibold
      shadow border-1 border-gray-300 rounded-lg py-1 px-2
      placeholder:font-normal placeholder:text-xs placeholder:text-gray-500
      focus-visible:outline-none focus-visible:inset-ring-1 inset-ring-black/50
      ${_validName ? 'border-green-700' : ''} ${_invalidName ? 'border-red-700' : ''}
      ${_validName ? 'inset-ring-green-700/50' : ''} ${_invalidName ? 'inset-ring-red-700/50' : ''}`"
    />
    <div role="alert" class="min-h-4 text-xs text-red-700">
      @if (_invalidName && _name.getError('resErr'); as _resErr) { {{ _resErr.message }} }
    </div>
  </div>
  <button
    type="submit"
    [disabled]="form.invalid"
    class="{{`bg-black text-white text-sm font-bold py-1 px-2 min-w-20 shadow rounded-lg
      disabled:text-gray-100 disabled:bg-gray-300
      not-disabled:cursor-pointer active:not-disabled:bg-gray-500
      focus-visible:outline-none focus-visible:inset-ring-2 inset-ring-gray-500`}}"
  >
    Save
  </button>
</form>
